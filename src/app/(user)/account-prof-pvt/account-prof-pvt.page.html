<!-- <ion-header>
  <ion-toolbar>
    <ion-title>acc-create-pvt</ion-title>
  </ion-toolbar>
</ion-header> -->

<!-- <ion-header>
  <ion-toolbar>
    <ion-title>account-prof-pvt</ion-title>
  </ion-toolbar>
</ion-header> -->
<ion-header>
  <ion-toolbar class="bg-toolbar">
    <ion-buttons slot="start" class="bg-red">
      <img src="../../../assets/extra/back arrow.png" (click)="back()" alt="Back">
    </ion-buttons>
    <ion-label>Personal Profile</ion-label>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="userForm" (ngSubmit)="saveUser()">
    <div class="form-container">
      <div class="form-group">
        <label for="name" [class.active]="userForm.get('name')?.value">Full Name</label>
        <input type="text" id="name" class="text-field" formControlName="name" placeholder="Enter your full name">
        <div *ngIf="userForm.get('name')?.invalid && userForm.get('name')?.touched" class="error-message">
          Please enter your full name
        </div>
      </div>

      <div class="form-group">
        <label for="email" [class.active]="userForm.get('email')?.value">Email Address</label>
        <input type="email" id="email" class="text-field" formControlName="email" placeholder="Enter your email address">
        <div *ngIf="userForm.get('email')?.invalid && userForm.get('email')?.touched" class="error-message">
          Please enter a valid email address
        </div>
      </div>

      <div class="form-group">
        <label for="mobile" [class.active]="userForm.get('mobile')?.value">Phone Number</label>
        <div style="display: flex; gap: 8px;">
          <select formControlName="country" class="text-field" style="width: 120px;" [attr.disabled]="true">
            <option *ngFor="let code of countryCode" [value]="code">{{ code }}</option>
          </select>
          <input type="tel" id="mobile" class="text-field" formControlName="mobile" [attr.readonly]="true">
        </div>
      </div>

      <div class="reset-password-link" (click)="goTooResetPass()">
        <ion-icon name="key-outline"></ion-icon>
        Change Password
      </div>

      <div class="form-button-container">
        <button type="submit" [disabled]="userForm.invalid || isLoading">
          <ion-spinner *ngIf="isLoading" name="circular" class="button-spinner"></ion-spinner>
          <span *ngIf="!isLoading">Update Profile</span>
        </button>
        <button type="button" class="delete-button" (click)="confirmationDelete()" [disabled]="isLoading">Delete Account</button>
      </div>
    </div>
  </form>
</ion-content>
