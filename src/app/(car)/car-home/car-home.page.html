<ion-header>
</ion-header>

<ion-content>
  <!-- Professional Header -->
  <div style="position: fixed; top: 0; left: 0; right: 0; z-index: 1000; background: #ffffff; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
    <div style="display: flex; justify-content: space-between; align-items: center; padding: 16px; max-width: 600px; margin: 0 auto;">
      <div style="display: flex; align-items: center; gap: 16px;">
        <img src="../../assets/extra/back arrow.png" (click)="back()" style="width: 24px; height: 24px; cursor: pointer;" alt="Back">
        <img src="../../assets/menu-toolbar.png" style="height: 32px;" alt="Menu">
      </div>
      <img src="../../../assets/side-menu.png" (click)="navigateToMainMenu()" style="width: 24px; height: 24px; cursor: pointer;" alt="Menu">
    </div>
  </div>

  <!-- Hero Section -->
  <div style="position: relative; height: 300px; background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url('../../assets/Car-section/home-page/main.jpg'); background-size: cover; background-position: center;">
    <div style="position: absolute; bottom: 24px; left: 0; right: 0; padding: 0 16px;">
      <h1 style="color: white; font-size: 28px; font-weight: 700; margin-bottom: 8px; text-shadow: 0 2px 4px rgba(0,0,0,0.2);">Find Your Dream Car</h1>
      <p style="color: white; font-size: 16px; margin-bottom: 16px; opacity: 0.9;">Discover the perfect ride for your journey</p>
      <button (click)="carSaleListing()" style="background: #FF4B2B; color: white; border: none; padding: 14px 24px; border-radius: 12px; font-size: 16px; font-weight: 600; width: 100%; box-shadow: 0 4px 12px rgba(255,75,43,0.3);">Explore Cars</button>
    </div>
  </div>

  <!-- Premium Swiper Section -->
  <div style="text-align: -webkit-center; width: 100%; margin-top: 80px;">
    <ion-col style="text-align: -webkit-center;">
      <ion-card class="btn-view" style="margin-top: 5px; height: auto !important; box-shadow: none; background: transparent;">
        <ion-card-header style="padding: 0;">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px; padding: 0 16px;">
            <div>
              <p style="font-size: 20px; font-weight: 700; margin: 0; color: #1a1a1a;">Featured Cars</p>
              <p style="font-size: 14px; color: #666; margin: 4px 0 0 0;">Discover our premium selection</p>
            </div>
            <button (click)="carSaleListing()" 
                    style="background: #FF4B2B; border: none; color: white; font-size: 14px; font-weight: 600; padding: 10px 20px; border-radius: 8px; box-shadow: 0 2px 8px rgba(255,75,43,0.2);">
              View all
            </button>
          </div>

          <div *ngIf="carSaleData && carSaleData.length > 0; else noData">
            <swiper-container [slidesPerView]="1" [spaceBetween]="16" [loop]="true" 
                             [autoplay]="{ delay: 3000 }" [pagination]="{ clickable: true }" 
                             [navigation]="true" style="height: 380px; overflow: hidden; padding: 0 16px;">
              <ng-container *ngFor="let car of carSaleData">
                <swiper-slide *ngIf="car.car_ad_normal_feature === 'Supreme'" 
                            (click)="navigateToCarDetail(car.car_ad_sale_id)">
                  <div style="background: white; border-radius: 16px; overflow: hidden; box-shadow: 0 4px 20px rgba(0,0,0,0.08); height: 100%;">
                    <div style="height: 240px; overflow: hidden; position: relative;">
                      <img *ngIf="car.image_url1" [src]="car.image_url1" 
                           style="width: 100%; height: 100%; object-fit: cover;" 
                           alt="Car image for {{ car.car_make }} {{ car.car_model }}"/>
                      <img *ngIf="!car.image_url1" src="../../assets/Carsection/default-car.jpg"
                           style="width: 100%; height: 100%; object-fit: cover;" 
                           alt="Default car image"/>
                      <div style="position: absolute; top: 16px; right: 16px; background: rgba(255,75,43,0.95); padding: 6px 16px; border-radius: 20px; font-size: 13px; font-weight: 600; color: white; backdrop-filter: blur(4px);">
                        Featured
                      </div>
                    </div>
                    
                    <div style="padding: 20px;">
                      <div style="margin-bottom: 12px;">
                        <h3 style="font-size: 18px; color: #1a1a1a; margin: 0 0 6px 0; font-weight: 700;">
                          {{ car.car_make }} {{ car.car_model }}
                        </h3>
                        <p style="font-size: 14px; color: #666; margin: 0;">
                          {{ car.car_version }}
                        </p>
                      </div>
                      <div style="display: flex; justify-content: space-between; align-items: center;">
                        <p style="font-size: 20px; color: #FF4B2B; font-weight: 700; margin: 0;">
                          PKR {{ car.car_price }}
                        </p>
                        <button style="background: #FF4B2B; color: white; border: none; padding: 10px 20px; border-radius: 8px; font-size: 14px; font-weight: 600; box-shadow: 0 2px 8px rgba(255,75,43,0.2);">
                          View Details
                        </button>
                      </div>
                    </div>
                  </div>
                </swiper-slide>
              </ng-container>
            </swiper-container>
          </div>

          <ng-template #noData>
            <div style="text-align: center; padding: 48px 24px; background: #f8f9fa; border-radius: 16px; margin: 0 16px;">
              <p style="color: #666; font-size: 15px; margin: 0; font-weight: 500;">No cars available at the moment</p>
            </div>
          </ng-template>
        </ion-card-header>
      </ion-card>
    </ion-col>
  </div>

  <!-- Hire Swiper Section -->
  <div style="text-align: -webkit-center; width: 100%; margin-top: 24px;">
    <ion-col style="text-align: -webkit-center;">
      <ion-card class="btn-view" style="margin-top: 5px; height: auto !important; box-shadow: none; background: transparent;">
        <ion-card-header style="padding: 0;">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px; padding: 0 16px;">
            <div>
              <p style="font-size: 20px; font-weight: 700; margin: 0; color: #1a1a1a;">Cars for Hire</p>
              <p style="font-size: 14px; color: #666; margin: 4px 0 0 0;">Find your perfect rental</p>
            </div>
            <button (click)="carHireListing()" 
                    style="background: #FF4B2B; border: none; color: white; font-size: 14px; font-weight: 600; padding: 10px 20px; border-radius: 8px; box-shadow: 0 2px 8px rgba(255,75,43,0.2);">
              View all
            </button>
          </div>

          <div *ngIf="carHireData && carHireData.length > 0; else noHireData">
            <swiper-container [slidesPerView]="1" [spaceBetween]="16" [loop]="true" 
                             [autoplay]="{ delay: 3000 }" [pagination]="{ clickable: true }" 
                             [navigation]="true" style="height: 380px; overflow: hidden; padding: 0 16px;">
              <ng-container *ngFor="let car of carHireData">
                <swiper-slide *ngIf="car.car_ad_normal_feature === 'Supreme'" 
                            (click)="navigateToCarHireDetail(car.car_ad_hire_id)">
                  <div style="background: white; border-radius: 16px; overflow: hidden; box-shadow: 0 4px 20px rgba(0,0,0,0.08); height: 100%;">
                    <div style="height: 240px; overflow: hidden; position: relative; background: #f8f9fa;">
                      <img [src]="car.image_url1 || '../../assets/Carsection/default-car.jpg'" 
                           style="width: 100%; height: 100%; object-fit: cover;" 
                           (error)="onImageError($event)"
                           alt="Car image for {{ car.car_make }} {{ car.car_model }}"/>
                      <div style="position: absolute; top: 16px; right: 16px; background: rgba(255,75,43,0.95); padding: 6px 16px; border-radius: 20px; font-size: 13px; font-weight: 600; color: white; backdrop-filter: blur(4px);">
                        For Hire
                      </div>
                    </div>
                    
                    <div style="padding: 20px;">
                      <div style="margin-bottom: 12px;">
                        <h3 style="font-size: 18px; color: #1a1a1a; margin: 0 0 6px 0; font-weight: 700;">
                          {{ car.car_make }} {{ car.car_model }}
                        </h3>
                        <p style="font-size: 14px; color: #666; margin: 0;">
                          {{ car.car_version }}
                        </p>
                      </div>
                      <div style="display: flex; justify-content: space-between; align-items: center;">
                        <p style="font-size: 20px; color: #FF4B2B; font-weight: 700; margin: 0;">
                          PKR {{ car.car_price }}/day
                        </p>
                        <button style="background: #FF4B2B; color: white; border: none; padding: 10px 20px; border-radius: 8px; font-size: 14px; font-weight: 600; box-shadow: 0 2px 8px rgba(255,75,43,0.2);">
                          View Details
                        </button>
                      </div>
                    </div>
                  </div>
                </swiper-slide>
              </ng-container>
            </swiper-container>
          </div>

          <ng-template #noHireData>
            <div style="text-align: center; padding: 48px 24px; background: #f8f9fa; border-radius: 16px; margin: 0 16px;">
              <p style="color: #666; font-size: 15px; margin: 0; font-weight: 500;">No cars available for hire at the moment</p>
            </div>
          </ng-template>
        </ion-card-header>
      </ion-card>
    </ion-col>
  </div>

  <!-- Sell Section -->
  <div style="padding: 24px 16px; background: #F8F9FA;">
    <div style="max-width: 600px; margin: 0 auto; background: #1a1a1a; border-radius: 16px; padding: 24px; color: white;">
      <h2 style="font-size: 20px; margin-bottom: 8px; font-weight: 600;">Sell Your Car</h2>
      <p style="font-size: 14px; margin-bottom: 16px; opacity: 0.9;">List your car for free and reach thousands of buyers</p>
      <button (click)="carSalePosting()" style="background: #FF4B2B; color: white; border: none; padding: 14px 24px; border-radius: 12px; font-size: 16px; font-weight: 600; width: 100%;">List Your Car</button>
    </div>
  </div>

  <!-- Services Section -->
  <div style="padding: 24px 16px; background: #ffffff; padding-bottom: 80px;">
    <div style="max-width: 600px; margin: 0 auto;">
      <h2 style="font-size: 20px; color: #1a1a1a; margin-bottom: 16px; font-weight: 600;">Services</h2>
      
      <ion-row>
        <ion-col size="6" style="padding: 8px;" *ngFor="let service of services">
          <div (click)="service.action()" style="background: #F8F9FA; border-radius: 16px; padding: 16px; text-align: center; cursor: pointer; height: 100%; transition: all 0.3s ease;">
            <img [src]="service.icon" style="width: 40px; height: 40px; margin-bottom: 12px;" [alt]="service.title">
            <p style="font-size: 14px; color: #1a1a1a; margin: 0; font-weight: 500;">{{ service.title }}</p>
          </div>
        </ion-col>
        <ion-col size="6" style="padding: 8px;">
          <div (click)="carSchool()" style="background: #F8F9FA; border-radius: 16px; padding: 16px; text-align: center; cursor: pointer; height: 100%; transition: all 0.3s ease;">
            <img src="../../../assets/Menu-items/After login/Car menu/driving-school.png" style="width: 40px; height: 40px; margin-bottom: 12px;" alt="Driving School">
            <p style="font-size: 14px; color: #1a1a1a; margin: 0; font-weight: 500;">Driving School</p>
          </div>
        </ion-col>
      </ion-row>
    </div>
  </div>

  <!-- Footer -->
  <div style="position: fixed; bottom: 0; left: 0; right: 0; background: #ffffff; box-shadow: 0 -2px 8px rgba(0,0,0,0.05); padding: 8px 0;">
    <div style="display: flex; justify-content: space-around; align-items: center; max-width: 600px; margin: 0 auto;">
      <div (click)="selectIcon('home')" style="padding: 8px; cursor: pointer; transition: all 0.3s ease;" [style.transform]="selectedIcon === 'home' ? 'scale(1.1)' : 'scale(1)'">
        <img src="../../../assets/Landing page/footer-icon/home.png" style="width: 24px; height: 24px;" alt="Home">
      </div>
      <div (click)="selectIcon('message')" style="padding: 8px; cursor: pointer; transition: all 0.3s ease;" [style.transform]="selectedIcon === 'message' ? 'scale(1.1)' : 'scale(1)'">
        <img src="../../../assets/Landing page/footer-icon/message.png" style="width: 24px; height: 24px;" alt="Message">
      </div>
      <div (click)="selectIcon('profile')" style="padding: 8px; cursor: pointer; transition: all 0.3s ease;" [style.transform]="selectedIcon === 'profile' ? 'scale(1.1)' : 'scale(1)'">
        <img src="../../../assets/Landing page/footer-icon/profile.png" style="width: 24px; height: 24px;" alt="Profile">
      </div>
    </div>
  </div>
</ion-content>
